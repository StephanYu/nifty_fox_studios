<header class="left-0 top-0 z-50 bg-white/90 w-full shadow-md">
  <div class="mx-auto h-[60px] max-w-7xl">
    <div class="flex items-center justify-between h-full border-b border-slate-500/10 px-5">
      <div class="flex flex-1 items-center justify-between sm:items-stretch sm:justify-start">
        <!-- Logo -->
        <div class="flex items-center mr-8">
          <%= image_tag "logo.png", class:"w-[2rem]" %>
          <span class="ml-2 text-xl font-semibold">NiftyFox</span>
        </div>

        <!-- Nav menu -->
        <div class="hidden items-center md:flex space-x-6">
          <%= link_to 'Home', root_path %>
          <%= link_to 'Released', movies_path %>
          <%= link_to 'Recent', filtered_movies_path(:recent) %>
          <%= link_to 'About', about_path %>
          <%= link_to 'Donate', donate_path %>
        </div>
      </div>

      <!-- Auth menu -->
      <div class="hidden items-center space-x-6 md:flex md:flex-1 md:justify-end">
        <% if current_user %>
          <%= link_to current_user.name.capitalize, current_user %>
          <%= link_to "Sign Out", session_path, data: { turbo_method: :delete } %>
        <% else %>
          <%= link_to "Sign Up", signup_path %>
          <%= link_to "Sign In", signin_path%>
        <% end %>
      </div>

      <!-- Wallet -->
      <div hidden data-metamask-target="wallet">
        <div class="flex items-center">
          <%= image_tag "ethereum.png", class: "mr-1 h-5 w-5" %>
          <p data-metamask-target="balance" class="mr-5 text-md font-semibold"></p>
          <%= image_tag "metamask.png", class: "mr-1 h-5 w-5" %>
          <p data-metamask-target="address" class="mr-5 text-md font-semibold"></p>
        </div>
      </div>

      <!-- Mobile Menu -->
      <div class="md:hidden" x-data="{ open: false }">
        <div
          x-show="open"
          x-transition
          class="absolute flex flex-col items-center mt-10 top-10 left-20 right-20 py-8 space-y-6 font-bold bg-white drop-shadow-md"
        >
          <%= link_to 'Home', root_path, class: "hover:underline" %>
          <%= link_to 'Released', movies_path, class: "hover:underline" %>
          <%= link_to 'Recent', filtered_movies_path(:recent), class: "hover:underline" %>
          <%= link_to 'About', about_path %>
          <%= link_to 'Donate', donate_path, class: "hover:underline" %>
          <% if current_user %>
            <%= link_to current_user.name.capitalize, current_user %>
            <%= link_to "Sign Out", session_path, data: { turbo_method: :delete } %>
          <% else %>
            <%= link_to "Sign Up", signup_path %>
            <%= link_to "Sign In", signin_path%>
          <% end %>
        </div>
        <button x-on:click="open = ! open">
          <ion-icon
            :name="open == false ? 'menu-outline' : 'close-outline'"
            name="menu-outline"
            class="text-4xl"
          ></ion-icon>
        </button>
      </div>
    </div>
  </div>
</header>


